@model CreateNewItem
@{
    ViewData["Title"] = "Picture Time";
}
@{

    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>@ViewData["Title"] - Network Configurations&trade;</title>
        <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
        <link rel="stylesheet" href="~/css/site.css" />
        <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
        <script src="~/js/WebCam.js" type="text/javascript"></script>
    </head>
    <body>
        <div class="container-fluid">
            <div class="card border-0 shadow my-5">
                <div class="card-body p-5 form-group">
                    <h1 class="font-weight-light text-center">Welcome to Network Configurations&trade;</h1>
                    <h5 class="font-weight-light text-center">@ViewBag.Error</h5>
                    <hr />
                    <form method="post" enctype="multipart/form-data">
                        <div class="table-responsive-xl">
                            <table border="0" cellpadding="0" cellspacing="0">
                                <tr>
                                    <th scope="col" align="center">Live Camera</th>
                                    <th scope="col" align="center">Captured Picture</th>
                                </tr>
                                <tr>
                                    <td>
                                        <div id="idwebcam" class="img-fluid rounded"></div>
                                    </td>
                                    <td>
                                        <img class="img-fluid rounded" id="idcaptured"/>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <br />
                                        <input type="button" class="btn btn-outline-dark text-center" id="btncapture" value="Capture Photo" />
                                    </td>
                                </tr>
                            </table>
                            </div>
                            <br />
                            <br />
                            <div class="form-group text-center">
                                <button class="btn btn-outline-info" formmethod="post" type="submit">Complete</button>
                            </div>
                            @section Scripts {
                                <script type="text/javascript">

                                    $('.custom-file-input').change(function () {
                                        var filename = $(this).val().split('\\').pop();
                                        $(this).next('.custom-file-label').html(filename);
                                    })

                                    $(function () {
                                        Webcam.set({
                                            width: 360,
                                            height: 260,
                                            image_format: 'jpeg',
                                            jpeg_quality: 90
                                        });
                                        Webcam.attach('#idwebcam');
                                    });

                                    $("#btncapture").click(function () {
                                        Webcam.snap(function (data_uri) {
                                            $("#idcaptured")[0].src = data_uri;
                                        });
                                    });

                                </script>
                            }
                    </form>
                </div>
            </div>
        </div>
    </body>
</html>
}

